resources:
  - name: connecting_resource
    type: PropertyBag
    configuration:
      key1: value1
      key2: value2
      
  

pipelines:
  - name: pipelines_custom_trigger
    configuration:
      environmentVariables:
        readOnly:
          pipeline_env_var_with_custom:
            default: value1
            description: test
            allowCustom: true
            values:
              - value1
              - value2
          pipeline_env_var1_without_custom:
            default: value1
            values:
              - value1
              - value2
    steps:
    - name: step_1
      type: Bash
      configuration:
        environmentVariables:
          test: test
          step_env_va1r_without_custom:
            default: value1
            values:
              - value1
              - value2
          step_env_var_with_custom:
            default: value1
            description: test
            allowCustom: true
            values:
              - value1
              - value2
        outputResources:
          - name: connecting_resource

      execution:
        onExecute:
          - echo "${step_name} running"   

    - name: step_2
      type: Bash
      configuration:
        inputResources:
          - name: connecting_resource
            trigger: false
      execution:
        onExecute:
          - echo "${step_name} running"

    - name: step_3
      type: Bash
      configuration:
        inputSteps:
          - name: step_2
      execution:
        onExecute:
          - echo "${step_name} running"
